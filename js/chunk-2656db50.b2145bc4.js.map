{"version":3,"sources":["webpack:///./src/apis/admin.js","webpack:///./src/views/admin/Members.vue?2406","webpack:///src/views/admin/Members.vue","webpack:///./src/views/admin/Members.vue?6861","webpack:///./src/views/admin/Members.vue"],"names":["getToken","localStorage","getItem","getAllProducts","apiHelper","get","headers","Authorization","getAllBrandsAndCategories","addNewProduct","formData","post","getProduct","productId","updateProduct","getCategories","query","rebuiltQuery","URLSearchParams","toString","addCategory","updateCategory","put","deleteCategory","whichCategory","categoryId","delete","params","getAllMembers","getAllOrders","updateOrderShipped","orderId","getAllBrands","addBrand","brandName","updateBrand","brandId","deleteBrand","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","_l","member","key","id","_s","name","email","phone","totalAmount","isAdmin","staticRenderFns","attrs","data","members","created","methods","component"],"mappings":"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","file":"js/chunk-2656db50.b2145bc4.js","sourcesContent":["import { apiHelper } from '../utils/helpers'\r\nconst getToken = () => localStorage.getItem('token')\r\n\r\nexport default {\r\n    getAllProducts() {\r\n        return apiHelper.get('/admin/products', {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    getAllBrandsAndCategories() {\r\n        return apiHelper.get('/admin/getAllBrandsAndCategories', {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    addNewProduct(formData) {\r\n        return apiHelper.post('/admin/products', formData, {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    getProduct({ productId }) {\r\n        return apiHelper.get(`/admin/products/${productId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    updateProduct({ formData, productId }) {\r\n        return apiHelper.post(`/admin/products/${productId}`, formData, {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    getCategories(query) {\r\n        const rebuiltQuery = new URLSearchParams(query)\r\n        return apiHelper.get(`/admin/categories?${rebuiltQuery.toString()}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    addCategory({ formData, query }) {\r\n        const rebuiltQuery = new URLSearchParams(query)\r\n        return apiHelper.post(\r\n            `/admin/categories?${rebuiltQuery.toString()}`,\r\n            formData,\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${getToken()}`\r\n                }\r\n            }\r\n        )\r\n    },\r\n    updateCategory({ formData, query }) {\r\n        const rebuiltQuery = new URLSearchParams(query)\r\n        return apiHelper.put(\r\n            `/admin/categories?${rebuiltQuery.toString()}`,\r\n            formData,\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${getToken()}`\r\n                }\r\n            }\r\n        )\r\n    },\r\n    deleteCategory({ whichCategory, categoryId }) {\r\n        return apiHelper.delete(`/admin/categories`, {\r\n            params: { whichCategory, categoryId },\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    getAllMembers() {\r\n        return apiHelper.get('/admin/members', {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    getAllOrders() {\r\n        return apiHelper.get('/admin/orders', {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    updateOrderShipped(orderId) {\r\n        return apiHelper.put(\r\n            `/admin/orders/${orderId}`,\r\n            {},\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${getToken()}`\r\n                }\r\n            }\r\n        )\r\n    },\r\n    getAllBrands() {\r\n        return apiHelper.get('/admin/brands', {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    },\r\n    addBrand({ brandName }) {\r\n        return apiHelper.post(\r\n            '/admin/brands',\r\n            { brandName },\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${getToken()}`\r\n                }\r\n            }\r\n        )\r\n    },\r\n    updateBrand({ brandName, brandId }) {\r\n        return apiHelper.put(\r\n            '/admin/brands',\r\n            { brandName, brandId },\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${getToken()}`\r\n                }\r\n            }\r\n        )\r\n    },\r\n    deleteBrand({ brandId }) {\r\n        return apiHelper.delete('/admin/brands', {\r\n            params: { brandId },\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container py-5\"},[_c('h1',[_vm._v(\"會員管理\")]),_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.members),function(member){return _c('tr',{key:member.id},[_c('td',[_vm._v(_vm._s(member.id))]),_c('td',[_vm._v(_vm._s(member.name))]),_c('td',[_vm._v(_vm._s(member.email))]),_c('td',[_vm._v(_vm._s(member.phone))]),_c('td',[_vm._v(_vm._s(member.totalAmount))]),_c('td',[_vm._v(_vm._s(member.isAdmin? '管理者':'一般用戶'))])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"會員編號\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"會員名稱\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"email\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"手機號碼\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"累計消費金額\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"身份\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container py-5\">\r\n    <h1>會員管理</h1>\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">會員編號</th>\r\n          <th scope=\"col\">會員名稱</th>\r\n          <th scope=\"col\">email</th>\r\n          <th scope=\"col\">手機號碼</th>\r\n          <th scope=\"col\">累計消費金額</th>\r\n          <th scope=\"col\">身份</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"member in members\" v-bind:key=\"member.id\">\r\n          <td>{{member.id}}</td>\r\n          <td>{{member.name}}</td>\r\n          <td>{{member.email}}</td>\r\n          <td>{{member.phone}}</td>\r\n          <td>{{member.totalAmount}}</td>\r\n          <td>{{member.isAdmin? '管理者':'一般用戶' }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport adminsAPI from \"../../apis/admin\";\r\nimport { Toast } from \"../../utils/helpers\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      members: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getAllMembers();\r\n  },\r\n  methods: {\r\n    async getAllMembers() {\r\n      try {\r\n        let response = await adminsAPI.getAllMembers();\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.members = data.members;\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法獲取會員資料\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Members.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Members.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Members.vue?vue&type=template&id=5393f839&\"\nimport script from \"./Members.vue?vue&type=script&lang=js&\"\nexport * from \"./Members.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}