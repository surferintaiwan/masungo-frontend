(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02f4ec45"],{5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),n=r("5899"),s="["+n+"]",c=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),i=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(c,"")),2&t&&(r=r.replace(o,"")),r}};t.exports={start:i(1),end:i(2),trim:i(3)}},"5f47":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("h1",[t._v("商品詳細頁")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"row"},[r("img",{staticClass:"col-sm-12 py-2",attrs:{src:t.product.image1,alt:""}}),r("img",{staticClass:"col-sm-4",attrs:{src:t.product.image2,alt:""}}),r("img",{staticClass:"col-sm-4",attrs:{src:t.product.image3,alt:""}}),r("img",{staticClass:"col-sm-4",attrs:{src:t.product.image4,alt:""}})])]),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("p",[t._v(t._s(t.product.Brand?t.product.Brand.name:null))]),r("h3",{staticClass:"card-title"},[t._v(t._s(t.product.name))]),r("h5",{staticClass:"card-subtitle mb-2 text-muted"},[r("span",{staticStyle:{color:"green"}},[t._v("NT "+t._s(t.product.sellingPrice+" "))]),r("del",[t._v(t._s(t.product.listPrice))]),t.product.shippingFee?r("span",[r("br"),t._v("(免運費) ")]):t._e()]),r("div",[r("label",{attrs:{for:""}},[t._v("數量")]),r("button",{on:{click:t.addAmount}},[t._v("+")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"text",value:""},domProps:{value:t.amount},on:{keyup:t.typeInAmount,input:function(e){e.target.composing||(t.amount=e.target.value)}}}),r("button",{on:{click:t.deleteAmount}},[t._v("-")]),r("p",[t._v("(最多可購買1000個，更大量訂單請聯繫客服，謝謝!)")])]),t.product.inventory?r("button",{staticClass:"btn btn-info mr-2",attrs:{type:"submit",disable:t.isProcessing},on:{click:function(e){return t.addCartItem(t.product.id)}}},[t._v("加入購物車")]):r("button",{staticClass:"btn btn-danger mr-2"},[t._v("商品缺貨中")]),t.product.isFollowed?r("button",{staticClass:"btn btn-danger",attrs:{disable:t.isProcessing},on:{click:function(e){return t.deleteFollowing(t.product.id)}}},[t._v("取消追蹤")]):r("button",{staticClass:"btn btn-warning",attrs:{disable:t.isProcessing},on:{click:function(e){return t.addFollowing(t.product.id)}}},[t._v("加入追蹤")])])])]),r("div",{staticClass:"col-sm-12"},[r("h3",[t._v("產品介紹")]),r("img",{staticClass:"col-sm-12 py-2",staticStyle:{width:"600px"},attrs:{src:t.product.detail}})]),r("div",{staticClass:"col-sm-12"},[r("h3",[t._v("運送須知")]),r("img",{staticClass:"col-sm-12 py-2",staticStyle:{width:"600px"},attrs:{src:t.product.deliveryKnow}})]),r("div",{staticClass:"col-sm-12"},[r("h3",[t._v("退購須知")]),r("img",{staticClass:"col-sm-12 py-2",staticStyle:{width:"600px"},attrs:{src:t.product.refundKnow}})])])])},n=[],s=(r("a9e3"),r("96cf"),r("1da1")),c=r("ee21"),o=r("644d"),i=r("4cce"),u=r("2fa3"),l={data:function(){return{product:{},amount:1,isProcessing:!1}},created:function(){this.getProductDetail()},methods:{addAmount:function(){Number(this.amount)>=1&&Number(this.amount)<=999?this.amount=Number(this.amount)+1:u["a"].fire({icon:"error",title:"訂購數量為1-1000!"})},deleteAmount:function(){Number(this.amount)>1&&Number(this.amount)<=1e3?this.amount=Number(this.amount)-1:u["a"].fire({icon:"error",title:"訂購數量為1-1000!"})},typeInAmount:function(t){var e=t.target.value;if(isNaN(e))u["a"].fire({icon:"error",title:"請輸入數字"});else{var r=/^\+?[1-9][0-9]*$/,a=r.test(e);if(a){if(Number(e)>=1&&Number(e)<=1e3)return;Number(e)>1e3&&(u["a"].fire({icon:"error",title:"請輸入1-1000之間的數字"}),this.amount=1e3)}else 0===Number(this.amount)?(u["a"].fire({icon:"error",title:"請勿輸入0"}),this.amount=1):(u["a"].fire({icon:"error",title:"請輸入非小數點數字"}),this.amount=Math.ceil(Number(this.amount)))}},getProductDetail:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$route.params.productId,e.next=4,c["a"].getProductDetail({productId:r});case 4:if(a=e.sent,n=a.data,s=a.statusText,"OK"===s){e.next=8;break}throw new Error(s);case 8:t.product=n.product,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),u["a"].fire({icon:"error",title:"無法獲取產品詳細資料"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},addCartItem:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isProcessing=!0,a=localStorage.getItem("cartId"),r.next=5,o["a"].addCartItem({cartId:a,productId:t,amount:e.amount});case 5:if(n=r.sent,s=n.data,c=n.statusText,"OK"===c){r.next=9;break}throw new Error(c);case 9:localStorage.setItem("cartId",s.cartId),u["a"].fire({type:"success",title:"已將本商品加入購物車"}),e.isProcessing=!1,r.next=19;break;case 14:r.prev=14,r.t0=r["catch"](0),u["a"].fire({icon:"error",title:"無法加入購物車"}),e.isProcessing=!1,console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,14]])})))()},addFollowing:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isProcessing=!0,r.next=4,i["a"].addFollowingProduct({productId:t});case 4:if(a=r.sent,n=a.data,s=a.statusText,"OK"===s&&"success"===n.status){r.next=8;break}throw new Error(s);case 8:u["a"].fire({icon:"success",title:"追蹤成功"}),e.product.isFollowed=!0,e.isProcessing=!1,r.next=18;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0),u["a"].fire({icon:"error",title:"無法加入追蹤清單"}),e.isProcessing=!1;case 18:case"end":return r.stop()}}),r,null,[[0,13]])})))()},deleteFollowing:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isProcessing=!0,r.next=4,i["a"].deleteFollowingProduct({productId:t});case 4:if(a=r.sent,n=a.data,s=a.statusText,"OK"===s&&"success"===n.status){r.next=8;break}throw new Error(s);case 8:u["a"].fire({icon:"success",title:"移除追蹤成功"}),e.product.isFollowed=!1,e.isProcessing=!1,r.next=18;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0),u["a"].fire({icon:"error",title:"無法將商品自追蹤清單移除"}),e.isProcessing=!1;case 18:case"end":return r.stop()}}),r,null,[[0,13]])})))()}},beforeRouteUpdate:function(t,e,r){this.getProductDetail(),r()}},d=l,p=r("2877"),m=Object(p["a"])(d,a,n,!1,null,null,null);e["default"]=m.exports},"644d":function(t,e,r){"use strict";var a=r("2fa3");e["a"]={getCartItems:function(t){var e=t.cartId;return a["b"].get("/cart/".concat(e))},addCartItem:function(t){var e=t.cartId,r=t.productId,n=t.amount;return a["b"].post("/cart",{cartId:e,productId:r,amount:n})},deleteCartItem:function(t){var e=t.cartId,r=t.productId;return a["b"].delete("/cart",{params:{cartId:e,productId:r}})}}},7156:function(t,e,r){var a=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var s,c;return n&&"function"==typeof(s=e.constructor)&&s!==r&&a(c=s.prototype)&&c!==r.prototype&&n(t,c),t}},a9e3:function(t,e,r){"use strict";var a=r("83ab"),n=r("da84"),s=r("94ca"),c=r("6eeb"),o=r("5135"),i=r("c6b6"),u=r("7156"),l=r("c04e"),d=r("d039"),p=r("7c73"),m=r("241c").f,f=r("06cf").f,v=r("9bf2").f,g=r("58a8").trim,b="Number",h=n[b],I=h.prototype,w=i(p(I))==b,N=function(t){var e,r,a,n,s,c,o,i,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=g(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(s=u.slice(2),c=s.length,o=0;o<c;o++)if(i=s.charCodeAt(o),i<48||i>n)return NaN;return parseInt(s,a)}return+u};if(s(b,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var x,C=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof C&&(w?d((function(){I.valueOf.call(r)})):i(r)!=b)?u(new h(N(e)),r,C):N(e)},_=a?m(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;_.length>y;y++)o(h,x=_[y])&&!o(C,x)&&v(C,x,f(h,x));C.prototype=I,I.constructor=C,c(n,b,C)}}}]);
//# sourceMappingURL=chunk-02f4ec45.e8571da7.js.map