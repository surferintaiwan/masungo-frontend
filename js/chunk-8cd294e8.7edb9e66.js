(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8cd294e8"],{1009:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("MemberTabs"),t.followingProducts.length?[r("div",{staticClass:"row"},t._l(t.followingProducts,(function(e){return r("div",{key:e.id,staticClass:"col-3"},[r("div",{staticClass:"card"},[r("img",{staticClass:"card-img-top",attrs:{src:e.image1,alt:""}}),r("div",{staticClass:"card-body"},[r("router-link",{attrs:{to:{name:"product-detail",params:{productId:e.id}}}},[r("h5",{staticClass:"card-title"},[t._v(t._s(e.name))])]),r("p",[t._v("NT. "+t._s(e.sellingPrice))]),r("div",{staticClass:"row"},[r("button",{staticClass:"btn btn-danger ml-2",attrs:{type:"submit"},on:{click:function(r){return t.deleteFollowing(e.id)}}},[t._v("取消追蹤")]),r("button",{staticClass:"btn btn-warning ml-2",attrs:{type:"submit"},on:{click:function(r){return t.addCartItem(e.id)}}},[t._v("+購物車")])])],1)])])})),0)]:[r("div",[t._v("目前沒有追蹤清單資料")])]],2)},n=[],s=(r("4de4"),r("96cf"),r("1da1")),c=r("852e"),o=r("4cce"),i=r("644d"),l=r("2fa3"),u={components:{MemberTabs:c["a"]},data:function(){return{followingProducts:[]}},created:function(){this.getFollowingProducts()},methods:{getFollowingProducts:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].getFollowingProducts();case 3:if(r=e.sent,a=r.data,n=r.statusText,"OK"===n){e.next=7;break}throw new Error(n);case 7:t.followingProducts=a.followingProducts,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log("error",e.t0),l["a"].fire({icon:"error",title:"無法獲取追蹤清單"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},addCartItem:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("cartId"),e.next=4,i["a"].addCartItem({cartId:r,productId:t,amount:1});case 4:if(a=e.sent,n=a.data,s=a.statusText,"OK"===s){e.next=8;break}throw new Error(s);case 8:localStorage.setItem("cartId",n.cartId),l["a"].fire({type:"success",title:"已將本商品加入購物車"}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),l["a"].fire({icon:"error",title:"無法加入購物車"}),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()},deleteFollowing:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o["a"].deleteFollowingProduct({productId:t});case 3:if(a=r.sent,n=a.data,s=a.statusText,"OK"===s&&"success"===n.status){r.next=7;break}throw new Error(s);case 7:e.followingProducts=e.followingProducts.filter((function(e){return e.id!==t})),l["a"].fire({icon:"success",title:"移除追蹤成功"}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),console.log(r.t0),l["a"].fire({icon:"error",title:"無法將商品自追蹤清單移除"});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()}}},d=u,m=r("2877"),v=Object(m["a"])(d,a,n,!1,null,null,null);e["default"]=v.exports},"644d":function(t,e,r){"use strict";var a=r("2fa3");e["a"]={getCartItems:function(t){var e=t.cartId;return a["b"].get("/cart/".concat(e))},addCartItem:function(t){var e=t.cartId,r=t.productId,n=t.amount;return a["b"].post("/cart",{cartId:e,productId:r,amount:n})},deleteCartItem:function(t){var e=t.cartId,r=t.productId;return a["b"].delete("/cart",{params:{cartId:e,productId:r}})}}},"852e":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"nav nav-tabs"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/member/orders"}},[t._v("查詢訂單")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/member/edit"}},[t._v("會員資料")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/member/followings"}},[t._v("追蹤清單")])],1),r("li",{staticClass:"nav-item",on:{click:t.logout}},[r("router-link",{staticClass:"nav-link",attrs:{to:"#"}},[t._v("登出")])],1)])},n=[],s={methods:{logout:function(){console.log(123),this.$store.commit("revokeAuthentication"),this.$router.push("/signin")}}},c=s,o=r("2877"),i=Object(o["a"])(c,a,n,!1,null,null,null);e["a"]=i.exports}}]);
//# sourceMappingURL=chunk-8cd294e8.7edb9e66.js.map