(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75024c0b"],{"6b754":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container py-5"},[a("h1",[t._v("商品分類總表")]),a("h2",{staticClass:"text-center"},[t._v("========新增========")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",[t._v("新增大分類")]),a("form",{staticClass:"row",attrs:{name:"addCategory1"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.addCategory(e)}}},[a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"category1Id"}},[t._v("產品大分類")]),a("div",{staticClass:"form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category1Name,expression:"category1Name"}],staticClass:"form-control",attrs:{type:"text",id:"category1Id",placeholder:"",name:"category1Name"},domProps:{value:t.category1Name},on:{input:function(e){e.target.composing||(t.category1Name=e.target.value)}}}),a("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v("新增")])])]),a("div",{staticClass:"col-4"}),a("div",{staticClass:"col-4"})])]),a("div",{staticClass:"col-12 mt-4"},[a("h3",[t._v("新增中分類")]),a("form",{staticClass:"row",attrs:{name:"addCategory2"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.addCategory(e)}}},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category1Id"}},[t._v("產品大分類")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category1Id,expression:"category1Id"}],staticClass:"form-control",attrs:{id:"category1Id",name:"category1Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category1Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category1s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"category2Id"}},[t._v("產品中分類")]),a("div",{staticClass:"form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category2Name,expression:"category2Name"}],staticClass:"form-control",attrs:{type:"text",id:"category2Id",name:"category2Name"},domProps:{value:t.category2Name},on:{input:function(e){e.target.composing||(t.category2Name=e.target.value)}}}),a("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v("新增")])])]),a("div",{staticClass:"col-4"})])]),a("div",{staticClass:"col-12 mt-4"},[a("h3",[t._v("新增小分類")]),a("form",{staticClass:"row",attrs:{name:"addCategory3"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.addCategory(e)}}},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category1Id"}},[t._v("產品大分類")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category1Id,expression:"category1Id"}],staticClass:"form-control",attrs:{id:"category1Id",name:"category1Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category1Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category1s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category2Id"}},[t._v("產品中分類")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category2Id,expression:"category2Id"}],staticClass:"form-control",attrs:{id:"category2Id",name:"category2Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category2Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category2s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"category3Id"}},[t._v("產品小分類")]),a("div",{staticClass:"form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category3Name,expression:"category3Name"}],staticClass:"form-control",attrs:{type:"text",id:"category3Id",name:"category3Name"},domProps:{value:t.category3Name},on:{input:function(e){e.target.composing||(t.category3Name=e.target.value)}}}),a("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v("新增")])])])])])]),a("hr",{staticClass:"simple",attrs:{color:"black"}}),a("h2",{staticClass:"text-center"},[t._v("========編輯/刪除========")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",[t._v("編輯/刪除大分類")]),a("form",{staticClass:"row",attrs:{name:"updateCategory1"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateCategory(e)}}},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"category1Id"}},[t._v("產品大分類")]),a("div",{staticClass:"form-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category1Id,expression:"category1Id"}],staticClass:"form-control",attrs:{id:"category1Id",name:"category1Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category1Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category1s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category1Name,expression:"category1Name"}],staticClass:"form-control",attrs:{type:"text",id:"category1Id",placeholder:"請輸入新名稱",name:"category1Name"},domProps:{value:t.category1Name},on:{input:function(e){e.target.composing||(t.category1Name=e.target.value)}}}),a("button",{staticClass:"btn btn-info mr-2",attrs:{type:"submit"}},[t._v("儲存")]),a("div",{staticClass:"btn btn-info",on:{click:function(e){return t.deleteCategory({whichCategory:"category1"})}}},[t._v("刪除")])])]),a("div",{staticClass:"col-3"}),a("div",{staticClass:"col-3"})])]),a("div",{staticClass:"col-12 mt-4"},[a("h3",[t._v("編輯/刪除中分類")]),a("form",{staticClass:"row",attrs:{name:"updateCategory2"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateCategory(e)}}},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category1Id"}},[t._v("產品大分類")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category1Id,expression:"category1Id"}],staticClass:"form-control",attrs:{id:"category1Id",name:"category1Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category1Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category1s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"category2Id"}},[t._v("產品中分類")]),a("div",{staticClass:"form-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category2Id,expression:"category2Id"}],staticClass:"form-control",attrs:{id:"category2Id",name:"category2Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category2Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category2s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category2Name,expression:"category2Name"}],staticClass:"form-control",attrs:{type:"text",id:"category2Id",name:"category2Name"},domProps:{value:t.category2Name},on:{input:function(e){e.target.composing||(t.category2Name=e.target.value)}}}),a("button",{staticClass:"btn btn-info mr-2",attrs:{type:"submit"}},[t._v("儲存")]),a("div",{staticClass:"btn btn-info",on:{click:function(e){return t.deleteCategory({whichCategory:"category2"})}}},[t._v("刪除")])])]),a("div",{staticClass:"col-3"})])]),a("div",{staticClass:"col-12 mt-4"},[a("h3",[t._v("編輯/刪除小分類")]),a("form",{staticClass:"row",attrs:{name:"updateCategory3"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateCategory(e)}}},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category1Id"}},[t._v("產品大分類")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category1Id,expression:"category1Id"}],staticClass:"form-control",attrs:{id:"category1Id",name:"category1Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category1Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category1s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category2Id"}},[t._v("產品中分類")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.category2Id,expression:"category2Id"}],staticClass:"form-control",attrs:{id:"category2Id",name:"category2Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category2Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category2s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"category3Id"}},[t._v("產品小分類")]),a("div",{staticClass:"form-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category3Id,expression:"category3Id"}],staticClass:"form-control",attrs:{id:"category3Id",name:"category3Id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category3Id=e.target.multiple?a:a[0]},function(e){return t.getCategories(e)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("--請選擇--")]),t._l(t.category3s,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category3Name,expression:"category3Name"}],staticClass:"form-control",attrs:{type:"text",id:"category3Id",name:"category3Name"},domProps:{value:t.category3Name},on:{input:function(e){e.target.composing||(t.category3Name=e.target.value)}}}),a("button",{staticClass:"btn btn-info mr-2",attrs:{type:"submit"}},[t._v("儲存")]),a("div",{staticClass:"btn btn-info",on:{click:function(e){return t.deleteCategory({whichCategory:"category3"})}}},[t._v("刪除")])])])])])])])},o=[],n=(a("4de4"),a("d81d"),a("b0c0"),a("5530")),s=(a("96cf"),a("1da1")),c=a("be6c"),i=a("2fa3"),d={created:function(){this.getCategories("getCategory1s")},data:function(){return{category1Id:"",category2Id:"",category3Id:"",category1s:[],category2s:[],category3s:[],category1Name:"",category2Name:"",category3Name:""}},methods:{getCategories:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,o,n,s,d,u,l,g;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,"getCategory1s"!==t){a.next=13;break}return r={},r[t]="",a.next=6,c["a"].getCategories(r);case 6:if(o=a.sent,n=o.data,s=o.statusText,"OK"===s){a.next=10;break}throw new Error(s);case 10:e.category1s=n.category1s,a.next=22;break;case 13:return d={},d[t.target.name]=t.target.value,a.next=17,c["a"].getCategories(d);case 17:if(u=a.sent,l=u.data,g=u.statusText,"OK"===g){a.next=21;break}throw new Error(g);case 21:"category1Id"===t.target.name?(e.category2Id="",e.category2s=l.category2s):"category2Id"===t.target.name&&(e.category3Id="",e.category3s=l.category3s);case 22:a.next=28;break;case 24:a.prev=24,a.t0=a["catch"](0),console.log(a.t0),i["a"].fire({icon:"error",title:"無法獲取分類資料"});case 28:case"end":return a.stop()}}),a,null,[[0,24]])})))()},addCategory:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,o,n,s,d,u,l,g,m,y,v,f,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,r=t.target.name,o=t.target,n=new FormData(o),s={},"addCategory1"!==r){a.next=19;break}return s["whichCategory"]="category1",a.next=9,c["a"].addCategory({formData:n,query:s});case 9:if(d=a.sent,u=d.data,l=d.statusText,console.log(u),"OK"===l&&"success"===u.status){a.next=14;break}throw new Error(l);case 14:e.category1Name="",e.category1s.push(u.category1),i["a"].fire({icon:"success",title:"新增大分類成功"}),a.next=44;break;case 19:if("addCategory2"!==r){a.next=32;break}return s["whichCategory"]="category2",a.next=23,c["a"].addCategory({formData:n,query:s});case 23:if(g=a.sent,m=g.data,y=g.statusText,"OK"===y&&"success"===m.status){a.next=27;break}throw new Error(y);case 27:i["a"].fire({icon:"success",title:"新增中分類成功"}),e.category1Id="",e.category2Name="",a.next=44;break;case 32:if("addCategory3"!==r){a.next=44;break}return s["whichCategory"]="category3",a.next=36,c["a"].addCategory({formData:n,query:s});case 36:if(v=a.sent,f=v.data,p=v.statusText,"OK"===p&&"success"===f.status){a.next=40;break}throw new Error(p);case 40:i["a"].fire({icon:"success",title:"新增小分類成功"}),e.category1Id="",e.category2Id="",e.category3Name="";case 44:a.next=50;break;case 46:a.prev=46,a.t0=a["catch"](0),console.log(a.t0),i["a"].fire({icon:"error",title:"新增分類失敗"});case 50:case"end":return a.stop()}}),a,null,[[0,46]])})))()},updateCategory:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,o,s,d,u,l,g,m,y,v,f,p,C;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,r=t.target.name,o=t.target,s=new FormData(o),d={},"updateCategory1"!==r){a.next=19;break}return d["whichCategory"]="category1",a.next=9,c["a"].updateCategory({formData:s,query:d});case 9:if(u=a.sent,l=u.data,g=u.statusText,"OK"===g&&"success"===l.status){a.next=13;break}throw new Error(g);case 13:e.category1s=e.category1s.map((function(t){return t.id===l.category1.id?Object(n["a"])({},t,{name:l.category1.name}):t})),e.category1Id="",e.category1Name="",i["a"].fire({icon:"success",title:"編輯大分類成功"}),a.next=47;break;case 19:if("updateCategory2"!==r){a.next=34;break}return d["whichCategory"]="category2",a.next=23,c["a"].updateCategory({formData:s,query:d});case 23:if(m=a.sent,y=m.data,v=m.statusText,"OK"===v&&"success"===y.status){a.next=27;break}throw new Error(v);case 27:i["a"].fire({icon:"success",title:"編輯中分類成功"}),e.category1Id="",e.category2Id="",e.category2Name="",e.category2s=[],a.next=47;break;case 34:if("updateCategory3"!==r){a.next=47;break}return d["whichCategory"]="category3",a.next=38,c["a"].updateCategory({formData:s,query:d});case 38:if(f=a.sent,p=f.data,C=f.statusText,"OK"===C&&"success"===p.status){a.next=42;break}throw new Error(C);case 42:i["a"].fire({icon:"success",title:"編輯小分類成功"}),e.category1Id="",e.category2Id="",e.category3Id="",e.category3Name="";case 47:a.next=53;break;case 49:a.prev=49,a.t0=a["catch"](0),console.log(a.t0),i["a"].fire({icon:"error",title:"編輯分類失敗"});case 53:case"end":return a.stop()}}),a,null,[[0,49]])})))()},deleteCategory:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,o,n,s,d,u,l,g,m,y;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.whichCategory,a.prev=1,"category1"!==r){a.next=14;break}return a.next=5,c["a"].deleteCategory({whichCategory:r,categoryId:e.category1Id});case 5:if(o=a.sent,n=o.data,s=o.statusText,"OK"===s&&"success"===n.status){a.next=9;break}throw new Error(s);case 9:e.category1s=e.category1s.filter((function(t){return t.id!==e.category1Id})),e.category1Id="",i["a"].fire({icon:"success",title:"刪除大分類成功"}),a.next=36;break;case 14:if("category2"!==r){a.next=26;break}return a.next=17,c["a"].deleteCategory({whichCategory:r,categoryId:e.category2Id});case 17:if(d=a.sent,u=d.data,l=d.statusText,"OK"===l&&"success"===u.status){a.next=21;break}throw new Error(l);case 21:e.category2s=e.category2s.filter((function(t){return t.id!==e.category2Id})),e.category2Id="",i["a"].fire({icon:"success",title:"刪除中分類成功"}),a.next=36;break;case 26:if("category3"!==r){a.next=36;break}return a.next=29,c["a"].deleteCategory({whichCategory:r,categoryId:e.category3Id});case 29:if(g=a.sent,m=g.data,y=g.statusText,"OK"===y&&"success"===m.status){a.next=33;break}throw new Error(y);case 33:e.category3s=e.category3s.filter((function(t){return t.id!==e.category3Id})),e.category3Id="",i["a"].fire({icon:"success",title:"刪除小分類成功"});case 36:a.next=42;break;case 38:a.prev=38,a.t0=a["catch"](1),console.log(a.t0),i["a"].fire({icon:"error",title:"刪除分類失敗"});case 42:case"end":return a.stop()}}),a,null,[[1,38]])})))()}}},u=d,l=a("2877"),g=Object(l["a"])(u,r,o,!1,null,null,null);e["default"]=g.exports},be6c:function(t,e,a){"use strict";a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d");var r=a("2fa3"),o=function(){return localStorage.getItem("token")};e["a"]={getAllProducts:function(){return r["b"].get("/admin/products",{headers:{Authorization:"Bearer ".concat(o())}})},getAllBrandsAndCategories:function(){return r["b"].get("/admin/getAllBrandsAndCategories",{headers:{Authorization:"Bearer ".concat(o())}})},addNewProduct:function(t){return r["b"].post("/admin/products",t,{headers:{Authorization:"Bearer ".concat(o())}})},getProduct:function(t){var e=t.productId;return r["b"].get("/admin/products/".concat(e),{headers:{Authorization:"Bearer ".concat(o())}})},updateProduct:function(t){var e=t.formData,a=t.productId;return r["b"].post("/admin/products/".concat(a),e,{headers:{Authorization:"Bearer ".concat(o())}})},getCategories:function(t){var e=new URLSearchParams(t);return r["b"].get("/admin/categories?".concat(e.toString()),{headers:{Authorization:"Bearer ".concat(o())}})},addCategory:function(t){var e=t.formData,a=t.query,n=new URLSearchParams(a);return r["b"].post("/admin/categories?".concat(n.toString()),e,{headers:{Authorization:"Bearer ".concat(o())}})},updateCategory:function(t){var e=t.formData,a=t.query,n=new URLSearchParams(a);return r["b"].put("/admin/categories?".concat(n.toString()),e,{headers:{Authorization:"Bearer ".concat(o())}})},deleteCategory:function(t){var e=t.whichCategory,a=t.categoryId;return r["b"].delete("/admin/categories",{params:{whichCategory:e,categoryId:a},headers:{Authorization:"Bearer ".concat(o())}})},getAllMembers:function(){return r["b"].get("/admin/members",{headers:{Authorization:"Bearer ".concat(o())}})},getAllOrders:function(){return r["b"].get("/admin/orders",{headers:{Authorization:"Bearer ".concat(o())}})},updateOrderShipped:function(t){return r["b"].put("/admin/orders/".concat(t),{},{headers:{Authorization:"Bearer ".concat(o())}})},getAllBrands:function(){return r["b"].get("/admin/brands",{headers:{Authorization:"Bearer ".concat(o())}})},addBrand:function(t){var e=t.brandName;return r["b"].post("/admin/brands",{brandName:e},{headers:{Authorization:"Bearer ".concat(o())}})},updateBrand:function(t){var e=t.brandName,a=t.brandId;return r["b"].put("/admin/brands",{brandName:e,brandId:a},{headers:{Authorization:"Bearer ".concat(o())}})},deleteBrand:function(t){var e=t.brandId;return r["b"].delete("/admin/brands",{params:{brandId:e},headers:{Authorization:"Bearer ".concat(o())}})}}},d81d:function(t,e,a){"use strict";var r=a("23e7"),o=a("b727").map,n=a("1dde"),s=a("ae40"),c=n("map"),i=s("map");r({target:"Array",proto:!0,forced:!c||!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-75024c0b.6272f09a.js.map