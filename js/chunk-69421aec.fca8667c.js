(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69421aec"],{"06c5":function(t,r,e){"use strict";e.d(r,"a",(function(){return n}));e("a630"),e("fb6a"),e("b0c0"),e("d3b7"),e("25f0"),e("3ca3");var a=e("6b75");function n(t,r){if(t){if("string"===typeof t)return Object(a["a"])(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Object(a["a"])(t,r):void 0}}},"0a93":function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"container py-5"},[e("h1",[t._v("品牌管理")]),e("form",{staticClass:"form-inline",on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),t.addBrand(r)}}},[t._m(0),e("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v("新增品牌")])]),e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.brands,(function(r){return e("tr",{key:r.id},[e("td",[t._v(t._s(r.id))]),e("td",[e("div",{staticClass:"row"},[e("form",{staticClass:"form-inline",on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),t.updateBrand(r)}}},[e("div",{staticClass:"form-group"},[e("input",{staticClass:"form-control",attrs:{type:"text",name:"brandName"},domProps:{value:r.name}}),e("input",{staticClass:"form-control",attrs:{type:"text",name:"brandId",hidden:""},domProps:{value:r.id}})]),e("button",{staticClass:"btn btn-info mr-2"},[t._v("儲存")])]),e("form",{staticClass:"form-inline",on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteBrand(r)}}},[e("div",{staticClass:"form-group"},[e("input",{staticClass:"form-control",attrs:{type:"text",name:"brandId",hidden:""},domProps:{value:r.id}})]),e("button",{staticClass:"btn btn-info mr-2"},[t._v("刪除")])])])]),e("td",{attrs:{scope:"col"}},[t._v(t._s(r.Products.length))])])})),0)])])},n=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"form-group"},[e("input",{staticClass:"form-control",attrs:{type:"text",name:"brandName"}})])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("品牌編號")]),e("th",{attrs:{scope:"col"}},[t._v("品牌名稱")]),e("th",{attrs:{scope:"col"}},[t._v("該品牌所屬商品數量")])])])}],o=(e("4de4"),e("a9e3"),e("5530")),c=e("6b75");function i(t){if(Array.isArray(t))return Object(c["a"])(t)}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("e260"),e("d3b7"),e("3ca3"),e("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var u=e("06c5");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return i(t)||s(t)||Object(u["a"])(t)||d()}e("96cf");var l=e("1da1"),b=e("be6c"),p=e("2fa3"),m={data:function(){return{brands:[]}},created:function(){this.getAllBrands()},methods:{getAllBrands:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var e,a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].getAllBrands();case 3:if(e=r.sent,a=e.data,n=e.statusText,"OK"===n){r.next=7;break}throw new Error(n);case 7:t.brands=a.brands,r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),p["a"].fire({icon:"error",title:"無法獲取品牌資料"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},addBrand:function(t){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,c,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=t.target.brandName.value,""!==a){e.next=6;break}p["a"].fire({icon:"error",title:"請輸入品牌名稱"}),e.next=16;break;case 6:return e.next=8,b["a"].addBrand({brandName:a});case 8:if(n=e.sent,c=n.data,i=n.statusText,"OK"===i&&"success"===c.status){e.next=12;break}throw new Error(i);case 12:s=f(r.brands),s.push(Object(o["a"])({},c.brand,{Products:[]})),r.brands=s,p["a"].fire({icon:"success",title:"品牌新增成功"});case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](0),console.log(e.t0),p["a"].fire({icon:"error",title:"新增品牌失敗"});case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()},updateBrand:function(t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var e,a,n,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,e=t.target.brandName.value,a=t.target.brandId.value,""!==e){r.next=7;break}p["a"].fire({icon:"error",title:"請輸入品牌名稱"}),r.next=14;break;case 7:return r.next=9,b["a"].updateBrand({brandName:e,brandId:a});case 9:if(n=r.sent,o=n.data,c=n.statusText,"OK"===c&&"success"===o.status){r.next=13;break}throw new Error(c);case 13:p["a"].fire({icon:"success",title:"品牌更新成功"});case 14:r.next=20;break;case 16:r.prev=16,r.t0=r["catch"](0),console.log(r.t0),p["a"].fire({icon:"error",title:"更新品牌失敗"});case 20:case"end":return r.stop()}}),r,null,[[0,16]])})))()},deleteBrand:function(t){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.target.brandId.value,e.next=4,b["a"].deleteBrand({brandId:a});case 4:if(n=e.sent,o=n.data,c=n.statusText,"OK"===c&&"success"===o.status){e.next=8;break}throw new Error(c);case 8:r.brands=r.brands.filter((function(t){return t.id!==Number(a)})),p["a"].fire({icon:"success",title:"品牌刪除成功"}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),p["a"].fire({icon:"error",title:"刪除品牌失敗"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}},h=m,v=e("2877"),g=Object(v["a"])(h,a,n,!1,null,null,null);r["default"]=g.exports},5899:function(t,r){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,r,e){var a=e("1d80"),n=e("5899"),o="["+n+"]",c=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),s=function(t){return function(r){var e=String(a(r));return 1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(i,"")),e}};t.exports={start:s(1),end:s(2),trim:s(3)}},"6b75":function(t,r,e){"use strict";function a(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,a=new Array(r);e<r;e++)a[e]=t[e];return a}e.d(r,"a",(function(){return a}))},7156:function(t,r,e){var a=e("861d"),n=e("d2bb");t.exports=function(t,r,e){var o,c;return n&&"function"==typeof(o=r.constructor)&&o!==e&&a(c=o.prototype)&&c!==e.prototype&&n(t,c),t}},a630:function(t,r,e){var a=e("23e7"),n=e("4df4"),o=e("1c7e"),c=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:c},{from:n})},a9e3:function(t,r,e){"use strict";var a=e("83ab"),n=e("da84"),o=e("94ca"),c=e("6eeb"),i=e("5135"),s=e("c6b6"),u=e("7156"),d=e("c04e"),f=e("d039"),l=e("7c73"),b=e("241c").f,p=e("06cf").f,m=e("9bf2").f,h=e("58a8").trim,v="Number",g=n[v],y=g.prototype,A=s(l(y))==v,w=function(t){var r,e,a,n,o,c,i,s,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),r=u.charCodeAt(0),43===r||45===r){if(e=u.charCodeAt(2),88===e||120===e)return NaN}else if(48===r){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(o=u.slice(2),c=o.length,i=0;i<c;i++)if(s=o.charCodeAt(i),s<48||s>n)return NaN;return parseInt(o,a)}return+u};if(o(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var I,x=function(t){var r=arguments.length<1?0:t,e=this;return e instanceof x&&(A?f((function(){y.valueOf.call(e)})):s(e)!=v)?u(new g(w(r)),e,x):w(r)},B=a?b(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;B.length>C;C++)i(g,I=B[C])&&!i(x,I)&&m(x,I,p(g,I));x.prototype=y,y.constructor=x,c(n,v,x)}},be6c:function(t,r,e){"use strict";e("d3b7"),e("25f0"),e("3ca3"),e("ddb0"),e("2b3d");var a=e("2fa3"),n=function(){return localStorage.getItem("token")};r["a"]={getAllProducts:function(){return a["b"].get("/admin/products",{headers:{Authorization:"Bearer ".concat(n())}})},getAllBrandsAndCategories:function(){return a["b"].get("/admin/getAllBrandsAndCategories",{headers:{Authorization:"Bearer ".concat(n())}})},addNewProduct:function(t){return a["b"].post("/admin/products",t,{headers:{Authorization:"Bearer ".concat(n())}})},getProduct:function(t){var r=t.productId;return a["b"].get("/admin/products/".concat(r),{headers:{Authorization:"Bearer ".concat(n())}})},updateProduct:function(t){var r=t.formData,e=t.productId;return a["b"].post("/admin/products/".concat(e),r,{headers:{Authorization:"Bearer ".concat(n())}})},getCategories:function(t){var r=new URLSearchParams(t);return a["b"].get("/admin/categories?".concat(r.toString()),{headers:{Authorization:"Bearer ".concat(n())}})},addCategory:function(t){var r=t.formData,e=t.query,o=new URLSearchParams(e);return a["b"].post("/admin/categories?".concat(o.toString()),r,{headers:{Authorization:"Bearer ".concat(n())}})},updateCategory:function(t){var r=t.formData,e=t.query,o=new URLSearchParams(e);return a["b"].put("/admin/categories?".concat(o.toString()),r,{headers:{Authorization:"Bearer ".concat(n())}})},deleteCategory:function(t){var r=t.whichCategory,e=t.categoryId;return a["b"].delete("/admin/categories",{params:{whichCategory:r,categoryId:e},headers:{Authorization:"Bearer ".concat(n())}})},getAllMembers:function(){return a["b"].get("/admin/members",{headers:{Authorization:"Bearer ".concat(n())}})},getAllOrders:function(){return a["b"].get("/admin/orders",{headers:{Authorization:"Bearer ".concat(n())}})},updateOrderShipped:function(t){return a["b"].put("/admin/orders/".concat(t),{},{headers:{Authorization:"Bearer ".concat(n())}})},getAllBrands:function(){return a["b"].get("/admin/brands",{headers:{Authorization:"Bearer ".concat(n())}})},addBrand:function(t){var r=t.brandName;return a["b"].post("/admin/brands",{brandName:r},{headers:{Authorization:"Bearer ".concat(n())}})},updateBrand:function(t){var r=t.brandName,e=t.brandId;return a["b"].put("/admin/brands",{brandName:r,brandId:e},{headers:{Authorization:"Bearer ".concat(n())}})},deleteBrand:function(t){var r=t.brandId;return a["b"].delete("/admin/brands",{params:{brandId:r},headers:{Authorization:"Bearer ".concat(n())}})}}},d28b:function(t,r,e){var a=e("746f");a("iterator")},e01a:function(t,r,e){"use strict";var a=e("23e7"),n=e("83ab"),o=e("da84"),c=e("5135"),i=e("861d"),s=e("9bf2").f,u=e("e893"),d=o.Symbol;if(n&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var f={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),r=this instanceof l?new d(t):void 0===t?d():d(t);return""===t&&(f[r]=!0),r};u(l,d);var b=l.prototype=d.prototype;b.constructor=l;var p=b.toString,m="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;s(b,"description",{configurable:!0,get:function(){var t=i(this)?this.valueOf():this,r=p.call(t);if(c(f,t))return"";var e=m?r.slice(7,-1):r.replace(h,"$1");return""===e?void 0:e}}),a({global:!0,forced:!0},{Symbol:l})}},fb6a:function(t,r,e){"use strict";var a=e("23e7"),n=e("861d"),o=e("e8b5"),c=e("23cb"),i=e("50c4"),s=e("fc6a"),u=e("8418"),d=e("b622"),f=e("1dde"),l=e("ae40"),b=f("slice"),p=l("slice",{ACCESSORS:!0,0:0,1:2}),m=d("species"),h=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!b||!p},{slice:function(t,r){var e,a,d,f=s(this),l=i(f.length),b=c(t,l),p=c(void 0===r?l:r,l);if(o(f)&&(e=f.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)?n(e)&&(e=e[m],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return h.call(f,b,p);for(a=new(void 0===e?Array:e)(v(p-b,0)),d=0;b<p;b++,d++)b in f&&u(a,d,f[b]);return a.length=d,a}})}}]);
//# sourceMappingURL=chunk-69421aec.fca8667c.js.map